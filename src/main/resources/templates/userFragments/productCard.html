<div class="product-card h-100" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <img th:src="${product.image}"
         class="w-100"/>
    <div class="card-body d-flex flex-column">
        <h6 class="card-title" th:text="${product.name}"></h6>
        <p class="text-muted small mb-2" th:text="${product.department} + ' â€¢ ' + ${product.category.name}"></p>
        <p class="product-price mb-3" th:text="'$' + ${#numbers.formatDecimal(product.price, 1, 'COMMA', 2, 'POINT')}"></p>
        <div class="d-grid gap-2 mt-auto">

            <a th:href="@{'/products/details/{id}' (id=${product.id})}"
               class="btn btn-outline-secondary btn-sm w-100">
                View details
            </a>

            <div class="d-flex align-items-center gap-2">
                <button sec:authorize="${isAuthenticated()}"
                        th:attr="data-product-id=${product.id}"
                        class="btn btn-primary btn-sm flex-grow-1 add-to-cart-from-products-btn">
                    <i class="bi bi-bag-plus me-1"></i>
                    Add to cart
                </button>
            </div>

        </div>
    </div>
</div>